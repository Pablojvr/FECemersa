<h2 mat-dialog-title>
  Agregar Articulo
</h2>
<mat-dialog-content class="mat-typography">
  <form class="flex w-full flex-wrap justify-items-stretch" #newArticuloForm="ngForm">
    <div class="flex sm:flex-col sm:flex-wrap md:flex-row md:flex-nowrap items-center md:w-6/12">

      <mat-form-field appearance="outline">
        <mat-label> CÃ³digo</mat-label>
        <input matInput name="numFactura" [(ngModel)]="data.itemCode" required
          class="appearance-none block w-full bg-gray-300 text-gray-700 border border-teal-800 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white">
      </mat-form-field>
    </div>
    <div class="flex sm:flex-col sm:flex-wrap md:flex-row md:flex-nowrap items-center md:w-3/12">

      <mat-form-field appearance="outline">
        <mat-label>Cantidad</mat-label>
        <input matInput name="numFactura" [(ngModel)]="data.quantity" required
          class="appearance-none block w-full bg-gray-300 text-gray-700 border border-teal-800 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white">
      </mat-form-field>
    </div>
    <div class="flex-auto">

    <button   mat-flat-button color="secondary" cdkFocusInitial (click)="agregarArticulo()">
      Procesar
    </button>
    </div>
    <mat-table [dataSource]="listadoLotes" #table class="items-table mat-elevation-z8 w-full" matSort
      matSortActive="id" matSortDirection="asc" matSortDisableClear>
      <ng-container matColumnDef="lote">
        <mat-header-cell *matHeaderCellDef>Lote</mat-header-cell>
        <mat-cell *matCellDef="let item">
          <div >{{
            item.batchNum
            }}</div>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="vencimiento">
        <mat-header-cell *matHeaderCellDef>Vencimiento</mat-header-cell>
        <mat-cell *matCellDef="let item">
          <div >{{item.expDate | date:'shortDate'}}</div>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="precio">
        <mat-header-cell *matHeaderCellDef>Precio</mat-header-cell>
        <mat-cell *matCellDef="let item">
          <div >$ {{item.price}}</div>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="seleccionado">
        <mat-header-cell *matHeaderCellDef>Seleccionado</mat-header-cell>
        <mat-cell *matCellDef="let item">
          <div >{{item.quantity}}</div>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
      <tbody>
        <tr *matNoDataRow class="mat-row">
          <td class="mat-cell" style="vertical-align: middle" colspan="9999">
            <b>Vista previa de lotes a seleccionar vacia</b>
          </td>
        </tr>
      </tbody>
    </mat-table>

  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancelar</button>

  <button [disabled]="listadoLotes.length==0" mat-flat-button color="primary" cdkFocusInitial [mat-dialog-close]="listadoLotes">
    Guardar
  </button>
</mat-dialog-actions>
